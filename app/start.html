<html>
<head>
    <title>Start</title>
    <script>
        var execFile = require('child_process').execFile,
            child;

        require('nw.gui').Window.get().showDevTools();

        child = execFile('DynamoWebServer.exe', ['headless'], { cwd: 'dynamo' }, function (error, stdout, stderr) {
            if (error) {
                console.log(error.stack);
                console.log('Error code: ' + error.code);
                console.log('Signal received: ' + error.signal);
            }
            console.log('Child Process stdout: ' + stdout);
            console.log('Child Process stderr: ' + stderr);
        });

        interval = setInterval(function () {

            socket = new WebSocket(require('./scripts/helpers/Settings.js').socketUrl);

            socket.onopen = function () {
                clearInterval(interval);
                socket.close();
                window.location.href = 'app.html';
            };

        }, 2000);
    </script>
</head>
<body>
    <h1>
        Wait for redirect...
    </h1>
</body>
</html>